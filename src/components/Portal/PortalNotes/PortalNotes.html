
<section class="portal-notes section-pad h-100">

  <div class="container">
    <div class="row">
      <div class="col-sm-8">
        <h3>{{currentUserFirstName}}'s Notes</h3>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-4" v-for="note in notesResult.content">
        <div class="card card-shadow" >
          <div class="card-body">
            <h5 class="card-title"><strong>{{ note.noteTitle }}</strong></h5>
            <p class="card-text">{{ note.noteBody.substring(0, 350).concat('...') | striphtml }}</p>
            <p class="card-text"><small class="text-muted">{{note.noteCreatedTime | moment("MMMM Do YYYY, h:mm:ss a") }}</small></p>
          </div>
          <div class="card-footer">
            <button class="btn btn-danger btn-shadow btn-rounded float-sm-left" v-on:click="deleteNote(note)">
              <i class="zmdi zmdi-delete"></i>
            </button>

            <router-link :to="{ name: 'PortalNoteView', params: { id: note.id }}" class="btn btn-info btn-shadow btn-rounded float-sm-right">
              <i class="zmdi zmdi-eye"></i>
            </router-link>
            <span class="float-sm-right">&nbsp;</span>
            <router-link :to="{ name: 'PortalNoteDetail', params: { id: note.id }}" class="btn btn-success btn-shadow btn-rounded float-sm-right">
              <i class="zmdi zmdi-edit"></i>
            </router-link>
          </div>
        </div>

      </div>
    </div>
  </div>
  <fab :actions="fabActions"
       @addNewNote="addNewNote"
       @searchNotes="showSearch"
       @shareNotes="shareNotes"
       :ripple-color="'light'" :z-index="'99999'" :position="'top-left'"></fab>

  <b-modal id="modal-center" ref="noteSearch" centered @shown="$refs.noteSearchTerm.focus()">
    <input type="text"
           v-on:keyup.enter="searchNotes"
           v-model="notesSearch.term"
           class="form-control form-control-lg note-title-input"
           ref="noteSearchTerm"
           placeholder="Search Notes For ...">
    <div slot="modal-footer" class="text-center w-100">
      <b-btn @click="searchNotes" class="btn btn-primary btn-shadow btn-rounded">Search</b-btn>
    </div>

  </b-modal>
  <div class="invisible" id="shortcuts">
    <b-btn @click="showSearch"
           v-shortkey="['shift', 'space']" @shortkey="showSearch()"
           class="btn btn-primary btn-shadow btn-rounded">Search</b-btn>
    <b-btn @click="addNewNote"
           v-shortkey="['ctrl', 'n']" @shortkey="addNewNote()"
           class="btn btn-primary btn-shadow btn-rounded">New Note</b-btn>
  </div>
</section>

